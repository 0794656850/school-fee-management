{% extends "base.html" %}
{% block title %}Reports - {{ APP_TITLE }}{% endblock %}
{% block page_title %}Reports{% endblock %}
{% block content %}

<div class="mb-6 text-sm text-gray-600">Reports are scoped to the current term: <span class="font-medium">{{ CURRENT_YEAR }}</span> — Term <span class="font-medium">{{ CURRENT_TERM }}</span>.</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
    <h3 class="text-lg font-semibold text-gray-800 flex items-center gap-2"><i data-lucide="file-spreadsheet"></i> Student Report</h3>
    <p class="text-sm text-gray-600 mt-1">Complete list of students with balance and credit.</p>
    <div class="mt-4">
      <a href="{{ url_for('export_students') }}" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700"><i data-lucide="download"></i> Export CSV</a>
    </div>
  </div>

  <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
    <h3 class="text-lg font-semibold text-gray-800 flex items-center gap-2"><i data-lucide="receipt"></i> Payments Report</h3>
    <p class="text-sm text-gray-600 mt-1">All payments with student, class, method, and reference.</p>
    <div class="mt-4">
      <a id="paymentsLink" href="{{ url_for('export_payments') }}?year={{ CURRENT_YEAR }}&term={{ CURRENT_TERM }}" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700"><i data-lucide="download"></i> Export CSV</a>
    </div>
  </div>

  <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
    <h3 class="text-lg font-semibold text-gray-800 flex items-center gap-2"><i data-lucide="file"></i> School Profile (Word)</h3>
    <p class="text-sm text-gray-600 mt-1">Per-school profile and fee summary as a Word document.</p>
    <div class="mt-4">
      <a href="{{ url_for('export_school_profile_docx') }}" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700"><i data-lucide="download"></i> Download .docx</a>
    </div>
  </div>

  <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 lg:col-span-2">
    <h3 class="text-lg font-semibold text-gray-800 flex items-center gap-2"><i data-lucide="folder-archive"></i> Full Fee Report</h3>
    <p class="text-sm text-gray-600 mt-1">ZIP of CSVs (students, payments, class summary, term summary, methods) or Excel workbook.</p>
    <div class="mt-4 flex gap-3 flex-wrap">
      <a id="zipLink" href="{{ url_for('export_fees_full') }}?year={{ CURRENT_YEAR }}&term={{ CURRENT_TERM }}" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700"><i data-lucide="download"></i> ZIP (CSVs)</a>
      <a id="xlsxLink" href="{{ url_for('export_fees_xlsx') }}?year={{ CURRENT_YEAR }}&term={{ CURRENT_TERM }}" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700"><i data-lucide="sheet"></i> Excel (.xlsx)</a>
    </div>
  </div>
</div>

<script>lucide.createIcons();</script>
{% endblock %}


